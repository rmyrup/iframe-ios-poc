function fancySelect(){$("html").click(function(){$(".select-menu--faux .select-menu-list").fadeOut(100)}),$(".select-menu").each(function(){var a;a='<ul class="select-menu--faux"><li class="selected-value">select menu</li> <ul class="select-menu-list">',$(this).children("option").each(function(){a+=$(this).is(":selected")?'<li class="select-menu-option option--selected" data-value="'+this.value+'">'+this.text+"</li>":'<li class="select-menu-option" data-value="'+this.value+'">'+this.text+"</li>"}),a+="</ul></span>",$(this).after(a),$(this).next().children(".selected-value").text($(this).children(":selected").text())}),$(".select-menu--faux").click(function(){event.stopPropagation()}),$(".selected-value").click(function(){$(this).parent().addClass("menu--active"),$(this).siblings(".select-menu-list").fadeIn(100)}),$(".select-menu-option").click(function(){var a=$(this).text(),b=$(this).attr("data-value");$(this).siblings().removeClass("option--selected"),$(this).addClass("option--selected"),$(this).parent().siblings(".selected-value").text(a),$(this).parent().parent().prev().val(b).change(),$(this).parents(".select-menu--faux").removeClass("menu--active"),$(this).parent(".select-menu-list").delay(200).fadeOut(100)})}function editorInit(){$(".sortable").sortableMenu(),$(".selectable").selectableMenu(),$(".editable li").editableMenu(),$(".btn-edit").on("click",function(){$(this).siblings(".inner-text").attr("contentEditable",!0).focus(),$(this).parent().addClass("editing")}),$(".panel").panelTabs(),fancySelect()}!function(a){a.fn.sortableMenu=function(){return this.height(this.height()),this.sortable({placeholder:"sort-placeholder"}),this.mousedown(function(){a(this).parents(".panel-content").css({overflow:"hidden"})}),this}}(jQuery),function(a){a.fn.selectableMenu=function(){return this.selectable(),this}}(jQuery),function(a){a.fn.editableMenu=function(){var b;return this.on("click",".btn-remove",function(){a(this).parent().fadeOut(300,function(){a(this).remove()})}),this.on("click",".btn-edit",function(){a(this).siblings(".inner-text").attr("contentEditable",!0).focus(),a(this).parent().addClass("editing"),b=a(this).siblings(".inner-text").text()}),this.dblclick(function(){a(this).children(".inner-text").attr("contentEditable",!0).focus(),a(this).addClass("editing"),b=a(this).children(".inner-text").text()}),this.on("keydown",".inner-text",function(c){13===c.keyCode&&(c.preventDefault(),a(this).attr("contentEditable",!1),a(this).parent().removeClass("editing")),27===c.keyCode&&(c.preventDefault(),a(this).attr("contentEditable",!1),a(this).parent().removeClass("editing"),a(this).text(b))}),this.children(".inner-text").blur(function(){a(this).attr("contentEditable",!1),a(this).parent().removeClass("editing")}),this}}(jQuery),function(a){a.fn.panelTabs=function(){return this.tabs(),this.find(".menu-underline").width(a(".ui-state-active").width()),this}}(jQuery),$(function(){editorInit()});